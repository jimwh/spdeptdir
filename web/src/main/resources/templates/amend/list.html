<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <title>Department Directory</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <script type="text/javascript" src="/webjars/jquery/2.2.4/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css"/>
    <script type="text/javascript" src="/webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script th:src="@{/js/update.js}"></script>
    <script th:src="@{/js/deptDirectory.js}"></script>

    <script th:src="@{/js/deptdir.js}"></script>


    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.10/js/jquery.dataTables.js"></script>


    <link rel="icon" type="image/png" href="../../images/favicon-crown.png"/>
    <link rel="stylesheet" th:href="@{css/deptdir.css}" />

    <style>
        .container {
            /* force override */
            width: 950px !important;
        }

        .navbar {
            background-color: #2d2a62
        }

        /* Remove the navbar's default margin-bottom and rounded borders */
        .navbar {
            margin-bottom: 0;
            border-radius: 0;
        }

        /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
        .row.content {
            height: 450px
        }

        /* Set gray background color and 100% height */
        .sidenav {
            padding-top: 20px;
            background-color: #f1f1f1;
            height: 100%;
        }

        /* Set black background color, white text and some padding */
        footer {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        /* On small screens, set height to 'auto' for sidenav and grid */
        @media screen and (max-width: 767px) {
            .sidenav {
                height: auto;
                padding: 15px;
            }

            .row.content {
                height: auto;
            }
        }
    </style>

    <script>
        $(document).ready(function ($) {
            $("#edit-form").submit(function (event) {
                event.preventDefault();
                postEdit();
            });
        });
    </script>


</head>

<body>





<div class="container">
    <nav class="navbar navbar-inverse" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://www.columbia.edu">CU Home</a>
            </div>

            <div class="nav navbar-nav navbar-right">
                <li><a href="https://directory.columbia.edu/people/">Directory Home</a></li>
                <li><a href="https://search.sites.columbia.edu/">Web Site Search</a></li>
                <li><a href="http://www.columbia.edu/content/contact-us.html">Help</a></li>
            </div>

        </div>

    </nav>

    <div class="container-fluid text-center">
        <div class="row content">

            <div class="col-md-12 text-left">
                <div style="padding-top: 8px; padding-bottom: 8px;">
                    <a href="http://www.columbia.edu/">
                        <img src="http://www.columbia.edu/images/cu_logo.gif"
                             width="353" height="49" alt="Columbia University in the City of New York"
                             title="Columbia University in the City of New York" border="0"/>
                    </a>
                </div>

                <div style="background-color: #e5e5e5;">
                    <a href="#">
                        <img class="img-responsive" src="../images/directory.gif"
                             width="111" height="20" alt="Directories" title="Directories" border="0"/>
                    </a>
                </div>

                <div th:id="umodal" class="modal fade" tabindex="-1" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>

                                <h4 class="modal-title">Update Record</h4>
                                <!-- <span th:text="${deptDirectory.level}">Level</span> -->
                                <!-- <h1 th:text="${deptDirectory.level}">level</h1> -->

                            </div>
                            <div class="modal-body">

                                <form id="edit-form" role="form"
                                      th:method="post"
                                      th:action="@{/amend/update}"
                                      th:object="${deptDirectory}">

                                    <input id="update-id"
                                           type="hidden"
                                           th:field="*{id}"
                                           th:value="${deptDirectory.id}"/>

                                    <fieldset class="form-group">
                                        <label for="update-name">Name</label>
                                        <input th:field="*{directoryName}"
                                               th:value="${deptDirectory.directoryName}"
                                               class="form-control"
                                               id="update-name"
                                               type="text"
                                               placeholder="Name"/>

                                        <label for="update-address">Address</label>
                                        <input th:field="*{address}"
                                               th:value="${deptDirectory.address}"
                                               class="form-control"
                                               id="update-address"
                                               type="text"
                                               placeholder="Address"/>

                                        <label for="update-mailCode">MailCode</label>
                                        <input th:field="*{mailCode}"
                                               th:value="${deptDirectory.mailCode}"
                                               class="form-control"
                                               id="update-mailCode"
                                               type="text"
                                               placeholder="MailCode"/>

                                        <label for="update-phoneNumber">PhoneNumber</label>
                                        <input th:field="*{phoneNumber}"
                                               th:value="${deptDirectory.phoneNumber}"
                                               class="form-control"
                                               id="update-phoneNumber"
                                               type="text"
                                               placeholder="PhoneNumber"/>


                                        <label for="update-tieLine">Tie Line</label>
                                        <input th:field="*{tieLine}"
                                               th:value="${deptDirectory.tieLine}"
                                               class="form-control"
                                               id="update-tieLine"
                                               type="text"
                                               placeholder="TieLine"/>



                                        <label th:text="${deptDirectory.level}"></label>


                                        <!--
                                        <label for="update-level">Level</label>
                                        <input th:field="*{level}"
                                               th:value="${deptDirectory.level}"
                                               class="form-control"
                                               id="update-level"
                                               type="text"
                                               placeholder="Level"/>
                                        -->
                                        <input id="update-level"
                                               type="hidden"
                                               th:field="*{level}"
                                               th:value="${deptDirectory.level}"/>


                                    </fieldset>


                                    <div class="form-group">
                                        <button class="btn btn-success" type="submit">Save</button>
                                    </div>
                                </form>

                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div th:id="dmodal" class="modal fade" tabindex="-1" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title">Delete Something</h4>
                            </div>
                            <div class="modal-body">
                                <input id="delete-id" type="hidden"/>
                                <div align="center">
                                    <p>Are you sure you want to delete this record?</p>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <a type="button" class="btn btn-danger"
                                   onclick="deleteEntity('deptDirectory')">Delete</a>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <!--
                <p th:text="'Hello, ' + ${name} + '!'" />
                -->

                        <table id="another-table" class="table table-responsive tab-condensed table-hover">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>NAME</th>
                                <th>ADDRESS</th>
                                <th>MAIL CODE</th>
                                <th>PHONE</th>
                                <th>TIE LINE</th>
                                <th>PARENT</th>
                                <th>LEVEL</th>
                                <th></th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody id="table-body">

                            <tr th:each="deptDirectory : ${deptDirectories}">
                                <td th:text="${deptDirectory.id}"></td>
                                <td th:text="${deptDirectory.directoryName}"></td>
                                <td th:text="${deptDirectory.address}"></td>
                                <td th:text="${deptDirectory.mailCode}"></td>
                                <td th:text="${deptDirectory.phoneNumber}"></td>
                                <td th:text="${deptDirectory.tieLine}"></td>
                                <td th:text="${deptDirectory.parent}"></td>
                                <td th:text="${deptDirectory.level}"></td>
                                <td>
                                    <a data-toggle="modal" data-target="#umodal"
                                       th:onclick="'showEditModal(' + ${deptDirectory.id} + ')'">Edit</a>
                                </td>
                                <td>
                                    <a data-toggle='modal' data-target='#dmodal'
                                       th:onclick="'showDeleteModal(' + ${deptDirectory.id} + ')'">Delete</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>

            </div>

        </div>
    </div>

    <footer class="container-fluid text-right" style="background-color: #2d2a62; padding-top: 8px;padding-bottom: 5px">
        <p>Footer Text</p>
    </footer>

</div>


</body>
</html>